import{b as R,c as N}from"./chunk-VBMQGA2H.js";import{c as f,g as x,o as y,p as g,u as E}from"./chunk-V2QEHFQP.js";import{e as m,g as u}from"./chunk-MITZ4KB3.js";import{ha as o}from"./chunk-IIHL3SUF.js";import{bd as l,le as v,me as I,na as d,ne as p,ra as n,ue as r,ze as h}from"./chunk-A5Z46WWS.js";var A=class i{constructor(e,t){this.router=e;this.activatedRoute=t;let a=()=>{let{id:_,q:s}=x(),{oneIndex:S,twoIndex:b,threeIndex:w}=E(_);this.oneIndex=S,this.twoIndex=b,this.selectedThreeIndex=w,this.searchKeyword=s,s?this.currentList=f(this.navs(),s):this.currentList=y()},c=()=>{this.activatedRoute.queryParams.subscribe(()=>{this.sliceMax=0,a(),setTimeout(()=>{this.sliceMax=Number.MAX_SAFE_INTEGER},100)})};window.__FINISHED__?c():o.on("WEB_FINISH",()=>{c()}),o.on("WEB_REFRESH",()=>{a()})}isLogin=v;settings=r;permissions=I(r());title=l(()=>r().title.trim().split(/\s/)[0]);navs=h;currentList=[];twoIndex=0;oneIndex=0;sliceMax=0;selectedThreeIndex=0;searchKeyword="";overIndex=Number.MAX_SAFE_INTEGER;handleClickClass(e){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{id:e,_:Date.now()}}),o.emit("SEARCH_FOCUS")}onCollapseAll=e=>{e?.stopPropagation(),N(this.navs())};trackByItem(e,t){return t.title}trackByItemWeb(e,t){return t.id}get collapsed(){try{return!!this.navs()[this.oneIndex].nav[this.twoIndex].collapsed}catch{return!1}}onCollapse=e=>{e.collapsed=!e.collapsed,p||R(this.navs())};getOverIndex(e){queueMicrotask(()=>{let t=g(e);this.overIndex!==t&&(this.overIndex=t)})}setOverIndex(){this.overIndex=Number.MAX_SAFE_INTEGER}static \u0275fac=function(t){return new(t||i)(n(u),n(m))};static \u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})};export{A as a};

import{a as I,b as Me,f as be}from"./chunk-ABZVYBNC.js";import{k as u,s as A}from"./chunk-MITZ4KB3.js";import{Db as we,K as fe,P as me,Qa as ve,R as he,Ra as ye,d as v,hb as ze,mb as y,pb as ge}from"./chunk-IIHL3SUF.js";import{Ac as de,Cb as G,Da as O,E as c,F as W,Fb as x,K as w,M as d,Na as Q,O as p,P as X,Pc as pe,Qa as V,W as L,Yb as K,Zb as J,_b as ee,fa as H,g as _,gc as te,jc as ne,mc as m,md as ue,nb as Z,nc as ie,oa as k,oc as oe,pb as E,pd as h,qc as re,r as j,rb as T,rc as se,s as g,sa as o,sc as ae,w as F,wb as U,x as Y,xa as M,xb as $,y as N,ya as b,yb as q,yc as le,zc as ce}from"./chunk-A5Z46WWS.js";var Re=["*"];function _e(n,D){if(n&1){let e=te();J(0,"div",0),ne("@slideMotion.done",function(a){M(e);let i=m();return b(i.onAnimationEvent(a))})("mouseenter",function(){M(e);let a=m();return b(a.setMouseState(!0))})("mouseleave",function(){M(e);let a=m();return b(a.setMouseState(!1))}),oe(1),ee()}if(n&2){let e=m();ce(e.nzOverlayStyle),de(e.nzOverlayClassName),le("ant-dropdown-rtl",e.dir==="rtl"),K("@slideMotion",void 0)("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)}}var Ne="dropDown",ke=[u.bottomLeft,u.bottomRight,u.topRight,u.topLeft],st=(()=>{var t;let n,D=[],e=[];return t=class{nzConfigService=o(me);renderer=o(E);viewContainerRef=o(T);platform=o(fe);destroyRef=o(O);_nzModuleName=Ne;elementRef=o(V);overlay=o(ge);portal;overlayRef=null;positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown");inputVisible$=new g(!1);nzTrigger$=new g("hover");overlayClose$=new j;nzDropdownMenu=null;nzTrigger="hover";nzMatchWidthElement=null;nzBackdrop=N(this,D,!1);nzClickHide=(N(this,e),!0);nzDisabled=!1;nzVisible=!1;nzOverlayClassName="";nzOverlayStyle={};nzPlacement="bottomLeft";nzVisibleChange=new x;constructor(){this.destroyRef.onDestroy(()=>{this.overlayRef?.dispose(),this.overlayRef=null})}setDropdownMenuValue(i,r){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(i,r)}ngAfterViewInit(){if(this.nzDropdownMenu){let i=this.elementRef.nativeElement,r=d(w(i,"mouseenter").pipe(c(()=>!0)),w(i,"mouseleave").pipe(c(()=>!1))),f=this.nzDropdownMenu.mouseState$,C=d(f,r),S=w(i,"click").pipe(c(()=>!this.nzVisible)),R=this.nzTrigger$.pipe(H(s=>s==="hover"?C:s==="click"?S:F)),z=this.nzDropdownMenu.descendantMenuItemClick$.pipe(p(()=>this.nzClickHide),c(()=>!1)),De=d(R,z,this.overlayClose$).pipe(p(()=>!this.nzDisabled)),Ce=d(this.inputVisible$,De);W([Ce,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(c(([s,P])=>s||P),X(150),L(),p(()=>this.platform.isBrowser),v(this.destroyRef)).subscribe(s=>{let B=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:i).getBoundingClientRect().width;if(this.nzVisible!==s&&this.nzVisibleChange.emit(s),this.nzVisible=s,s){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:B,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),d(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(p(l=>!this.elementRef.nativeElement.contains(l.target))),this.overlayRef.keydownEvents().pipe(p(l=>l.keyCode===27&&!ye(l)))).pipe(v(this.destroyRef)).subscribe(()=>{this.overlayClose$.next(!1)});else{let l=this.overlayRef.getConfig();l.minWidth=B}this.positionStrategy.withPositions([u[this.nzPlacement],...ke]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new ze(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(v(this.destroyRef)).subscribe(s=>{s.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnChanges(i){let{nzVisible:r,nzDisabled:f,nzOverlayClassName:C,nzOverlayStyle:S,nzTrigger:R}=i;if(R&&this.nzTrigger$.next(this.nzTrigger),r&&this.inputVisible$.next(this.nzVisible),f){let z=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(z,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(z,"disabled")}C&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),S&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[he()],Y(null,null,n,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:r=>"nzBackdrop"in r,get:r=>r.nzBackdrop,set:(r,f)=>{r.nzBackdrop=f}},metadata:i},D,e),i&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),_(t,"\u0275fac",function(r){return new(r||t)}),_(t,"\u0275dir",q({type:t,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",h],nzClickHide:[2,"nzClickHide","nzClickHide",h],nzDisabled:[2,"nzDisabled","nzDisabled",h],nzVisible:[2,"nzVisible","nzVisible",h],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[Q]})),t})(),Oe=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=$({type:n});static \u0275inj=k({})}return n})();var at=(()=>{class n{cdr=o(ue);elementRef=o(V);renderer=o(E);viewContainerRef=o(T);directionality=o(ve);destroyRef=o(O);mouseState$=new g(!1);nzMenuService=o(I);isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$;descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$;animationStateChange$=new x;nzOverlayClassName="";nzOverlayStyle={};templateRef;dir="ltr";onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,t){this[e]=t,this.cdr.markForCheck()}noAnimation=o(A,{host:!0,optional:!0});ngOnInit(){this.directionality.change?.pipe(v(this.destroyRef)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=U({type:n,selectors:[["nz-dropdown-menu"]],viewQuery:function(t,a){if(t&1&&re(Z,7),t&2){let i;se(i=ae())&&(a.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[pe([I,{provide:Me,useValue:!0}])],ngContentSelectors:Re,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"]],template:function(t,a){t&1&&(ie(),G(0,_e,2,9,"ng-template"))},dependencies:[A],encapsulation:2,data:{animation:[we]},changeDetection:0})}return n})(),lt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=$({type:n});static \u0275inj=k({imports:[Oe,be]})}return n})(),ct=[new y({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new y({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new y({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new y({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];export{st as a,at as b,lt as c};

import{a as Zt}from"./chunk-RALSTKAD.js";import{a as zt}from"./chunk-6VUCNFHV.js";import{r as We,s as Ye,v as je}from"./chunk-V2QEHFQP.js";import{a as Qe}from"./chunk-3JA3YLRB.js";import{I as He,K as Le,Na as Ve,P as Re,Qa as Be,R as ft,Va as Je,Wa as Ue,d as Tt}from"./chunk-IIHL3SUF.js";import{$b as U,Ae as N,Bc as C,Cb as I,Cc as D,Ce as P,Da as _e,Dc as W,Dd as Dt,Ec as se,Ed as ot,Fb as oe,Gb as Me,Id as ht,Jd as Ae,Md as G,Na as J,Qa as ne,Rb as Pe,Rc as jt,S as ue,Sc as Mt,Tb as De,Vb as ze,W as ge,Wb as Ie,Wc as Vt,Xb as be,Xc as Bt,Yb as _,Zb as x,Zc as Pt,Zd as yt,_b as v,a as Rt,ac as O,bc as $,cc as wt,d as cn,dc as ke,ec as Te,f as fe,g as te,gc as at,hb as Ft,hc as Ee,ib as xe,jc as lt,lb as c,lc as Oe,mc as M,md as Ne,nc as Wt,oa as ye,oc as Yt,pb as ie,pc as $e,pd as Qt,qa as ve,qb as xt,qc as et,qd as re,r as ee,rc as Z,re as Jt,sa as R,sc as q,se as Ut,ue as Fe,wb as S,wc as St,x as mt,xa as K,xb as we,xc as b,y as V,ya as tt,yb as Se,yc as F,za as Ce}from"./chunk-A5Z46WWS.js";var ce=cn((ae,le)=>{"use strict";(function(i,n){typeof ae=="object"&&typeof le<"u"?le.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(ae,function(){"use strict";var i=1e3,n=6e4,t=36e5,e="millisecond",s="second",y="minute",T="hour",L="day",it="week",A="month",ct="quarter",Y="year",B="date",It="Invalid Date",$t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Nt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,At={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var l=["th","st","nd","rd"],r=m%100;return"["+m+(l[(r-20)%10]||l[r]||l[0])+"]"}},vt=function(m,l,r){var p=String(m);return!p||p.length>=l?m:""+Array(l+1-p.length).join(r)+m},Ht={s:vt,z:function(m){var l=-m.utcOffset(),r=Math.abs(l),p=Math.floor(r/60),a=r%60;return(l<=0?"+":"-")+vt(p,2,"0")+":"+vt(a,2,"0")},m:function m(l,r){if(l.date()<r.date())return-m(r,l);var p=12*(r.year()-l.year())+(r.month()-l.month()),a=l.clone().add(p,A),u=r-a<0,g=l.clone().add(p+(u?-1:1),A);return+(-(p+(r-a)/(u?a-g:g-a))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:A,y:Y,w:it,d:L,D:B,h:T,m:y,s,ms:e,Q:ct}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},dt="en",k={};k[dt]=At;var he="$isDayjsObject",h=function(m){return m instanceof rt||!(!m||!m[he])},o=function m(l,r,p){var a;if(!l)return dt;if(typeof l=="string"){var u=l.toLowerCase();k[u]&&(a=u),r&&(k[u]=r,a=u);var g=l.split("-");if(!a&&g.length>1)return m(g[0])}else{var w=l.name;k[w]=l,a=w}return!p&&a&&(dt=a),a||!p&&dt},d=function(m,l){if(h(m))return m.clone();var r=typeof l=="object"?l:{};return r.date=m,r.args=arguments,new rt(r)},f=Ht;f.l=o,f.i=h,f.w=function(m,l){return d(m,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var rt=(function(){function m(r){this.$L=o(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[he]=!0}var l=m.prototype;return l.parse=function(r){this.$d=(function(p){var a=p.date,u=p.utc;if(a===null)return new Date(NaN);if(f.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var g=a.match($t);if(g){var w=g[2]-1||0,z=(g[7]||"0").substring(0,3);return u?new Date(Date.UTC(g[1],w,g[3]||1,g[4]||0,g[5]||0,g[6]||0,z)):new Date(g[1],w,g[3]||1,g[4]||0,g[5]||0,g[6]||0,z)}}return new Date(a)})(r),this.init()},l.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},l.$utils=function(){return f},l.isValid=function(){return this.$d.toString()!==It},l.isSame=function(r,p){var a=d(r);return this.startOf(p)<=a&&a<=this.endOf(p)},l.isAfter=function(r,p){return d(r)<this.startOf(p)},l.isBefore=function(r,p){return this.endOf(p)<d(r)},l.$g=function(r,p,a){return f.u(r)?this[p]:this.set(a,r)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(r,p){var a=this,u=!!f.u(p)||p,g=f.p(r),w=function(gt,j){var pt=f.w(a.$u?Date.UTC(a.$y,j,gt):new Date(a.$y,j,gt),a);return u?pt:pt.endOf(L)},z=function(gt,j){return f.w(a.toDate()[gt].apply(a.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(j)),a)},E=this.$W,H=this.$M,Q=this.$D,_t="set"+(this.$u?"UTC":"");switch(g){case Y:return u?w(1,0):w(31,11);case A:return u?w(1,H):w(0,H+1);case it:var ut=this.$locale().weekStart||0,bt=(E<ut?E+7:E)-ut;return w(u?Q-bt:Q+(6-bt),H);case L:case B:return z(_t+"Hours",0);case T:return z(_t+"Minutes",1);case y:return z(_t+"Seconds",2);case s:return z(_t+"Milliseconds",3);default:return this.clone()}},l.endOf=function(r){return this.startOf(r,!1)},l.$set=function(r,p){var a,u=f.p(r),g="set"+(this.$u?"UTC":""),w=(a={},a[L]=g+"Date",a[B]=g+"Date",a[A]=g+"Month",a[Y]=g+"FullYear",a[T]=g+"Hours",a[y]=g+"Minutes",a[s]=g+"Seconds",a[e]=g+"Milliseconds",a)[u],z=u===L?this.$D+(p-this.$W):p;if(u===A||u===Y){var E=this.clone().set(B,1);E.$d[w](z),E.init(),this.$d=E.set(B,Math.min(this.$D,E.daysInMonth())).$d}else w&&this.$d[w](z);return this.init(),this},l.set=function(r,p){return this.clone().$set(r,p)},l.get=function(r){return this[f.p(r)]()},l.add=function(r,p){var a,u=this;r=Number(r);var g=f.p(p),w=function(H){var Q=d(u);return f.w(Q.date(Q.date()+Math.round(H*r)),u)};if(g===A)return this.set(A,this.$M+r);if(g===Y)return this.set(Y,this.$y+r);if(g===L)return w(1);if(g===it)return w(7);var z=(a={},a[y]=n,a[T]=t,a[s]=i,a)[g]||1,E=this.$d.getTime()+r*z;return f.w(E,this)},l.subtract=function(r,p){return this.add(-1*r,p)},l.format=function(r){var p=this,a=this.$locale();if(!this.isValid())return a.invalidDate||It;var u=r||"YYYY-MM-DDTHH:mm:ssZ",g=f.z(this),w=this.$H,z=this.$m,E=this.$M,H=a.weekdays,Q=a.months,_t=a.meridiem,ut=function(j,pt,kt,Lt){return j&&(j[pt]||j(p,u))||kt[pt].slice(0,Lt)},bt=function(j){return f.s(w%12||12,j,"0")},gt=_t||function(j,pt,kt){var Lt=j<12?"AM":"PM";return kt?Lt.toLowerCase():Lt};return u.replace(Nt,function(j,pt){return pt||(function(kt){switch(kt){case"YY":return String(p.$y).slice(-2);case"YYYY":return f.s(p.$y,4,"0");case"M":return E+1;case"MM":return f.s(E+1,2,"0");case"MMM":return ut(a.monthsShort,E,Q,3);case"MMMM":return ut(Q,E);case"D":return p.$D;case"DD":return f.s(p.$D,2,"0");case"d":return String(p.$W);case"dd":return ut(a.weekdaysMin,p.$W,H,2);case"ddd":return ut(a.weekdaysShort,p.$W,H,3);case"dddd":return H[p.$W];case"H":return String(w);case"HH":return f.s(w,2,"0");case"h":return bt(1);case"hh":return bt(2);case"a":return gt(w,z,!0);case"A":return gt(w,z,!1);case"m":return String(z);case"mm":return f.s(z,2,"0");case"s":return String(p.$s);case"ss":return f.s(p.$s,2,"0");case"SSS":return f.s(p.$ms,3,"0");case"Z":return g}return null})(j)||g.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(r,p,a){var u,g=this,w=f.p(p),z=d(r),E=(z.utcOffset()-this.utcOffset())*n,H=this-z,Q=function(){return f.m(g,z)};switch(w){case Y:u=Q()/12;break;case A:u=Q();break;case ct:u=Q()/3;break;case it:u=(H-E)/6048e5;break;case L:u=(H-E)/864e5;break;case T:u=H/t;break;case y:u=H/n;break;case s:u=H/i;break;default:u=H}return a?u:f.a(u)},l.daysInMonth=function(){return this.endOf(A).$D},l.$locale=function(){return k[this.$L]},l.locale=function(r,p){if(!r)return this.$L;var a=this.clone(),u=o(r,p,!0);return u&&(a.$L=u),a},l.clone=function(){return f.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},m})(),Ct=rt.prototype;return d.prototype=Ct,[["$ms",e],["$s",s],["$m",y],["$H",T],["$W",L],["$M",A],["$y",Y],["$D",B]].forEach(function(m){Ct[m[1]]=function(l){return this.$g(l,m[0],m[1])}}),d.extend=function(m,l){return m.$i||(m(l,rt,d),m.$i=!0),d},d.locale=o,d.isDayjs=h,d.unix=function(m){return d(1e3*m)},d.en=k[dt],d.Ls=k,d.p={},d})});var Ze=class i{data;component=N();date="";day="";week="";dayOfYear="";constructor(){let n=Ye();this.date=P("_calendarDate",{year:n.year,month:n.month}),this.day=n.zeroDate,this.week=n.dayText,this.dayOfYear=P("_dayOfYear",{day:We()})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(t,e){t&1&&(O(0,"div",0)(1,"div",1),C(2),$(),O(3,"div",2)(4,"div",3),C(5),$(),O(6,"div",4)(7,"span",5),C(8),$(),O(9,"span"),C(10),$()()()()),t&2&&(b("zoom",e.component.zoom),c(),b("background",e.data.topColor),c(),W(" ",e.date," "),c(),b("background",e.data.bgColor),c(2),D(e.day),c(3),D(e.dayOfYear),c(2),D(e.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var qe=class i{data;component=N();runDays=0;unit="";constructor(){let n=Date.now()-Fe().runtime;n=n<0?0:n;let t=Math.floor(n/(1e3*60*60*24*365));t>0?(this.runDays=t,this.unit=P("_year")):(this.runDays=Math.floor(n/(1e3*60*60*24)),this.unit=P("_day"))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(t,e){t&1&&(O(0,"div",0)(1,"div",1),C(2),$(),O(3,"div",2)(4,"span",3),C(5),$(),O(6,"span",4),C(7),$()(),wt(8,"img",5),$()),t&2&&(b("zoom",e.component.zoom),c(2),D(e.data.title),c(3),D(e.runDays),c(2),D(e.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function dn(i,n){if(i&1&&(x(0,"div",5),C(1),v()),i&2){let t=M();c(),D(t.countdownStr)}}function pn(i,n){i&1&&U(0,"img",6)}function mn(i,n){i&1&&U(0,"img",6)}var Ge=class i{data;component=N();timer;countdownStr="";isRest=!1;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(n){n.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let n=new Date,t=n.getTime(),e=new Date(this.data.startDate);e.setFullYear(n.getFullYear()),e.setMonth(n.getMonth()),e.setDate(n.getDate());let s=e.getTime(),y=new Date(this.data.date);y.setFullYear(n.getFullYear()),y.setMonth(n.getMonth()),y.setDate(n.getDate());let T=y.getTime(),L=(T-t)/1e3,it=L/3600,A=Math.floor(it%1*10)/10,ct=Math.floor(L/60%60),Y=Math.floor(L%60),B=Math.floor(it)+A;if(t>=s&&t<=T)B>=1?this.countdownStr=P("_hours",{num:B}):ct>0?this.countdownStr=P("_minutes",{num:ct}):Y>=0&&(this.countdownStr=P("_seconds",{num:Y}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-offwork"]],inputs:{data:"data"},features:[J],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(t,e){if(t&1&&(x(0,"div",1)(1,"div",2),C(2),v(),I(3,dn,2,1,"div",3)(4,pn,1,0,"img",4)(5,mn,1,0,"ng-template",null,0,Pt),v()),t&2){let s=St(6);b("zoom",e.component.zoom),F("rest",e.isRest),c(2),W(" ",e.isRest?e.data.restTitle:e.data.workTitle," "),c(),_("ngIf",!e.isRest),c(),_("ngIf",e.isRest)("ngIfElse",s)}},dependencies:[G,ot],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var Xe=class i{constructor(n){this.jumpService=n}data;component=N();static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=S({type:i,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(t,e){t&1&&(O(0,"div",0),Oe("click",function(y){return e.jumpService.goUrl(y,e.data.go)}),O(1,"div",1),C(2),$()()),t&2&&(b("background-image",e.data.url&&"url("+e.data.url+")")("zoom",e.component.zoom),F("cursor-pointer",e.data.go),c(2),D(e.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var Ot=fe(ce(),1);var tn=class i{data;component=N();countdownData={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let n={};this.data.date&&(n.dateStr=(0,Ot.default)(this.data.date).format("YYYY.MM.DD"),n.dayStr=(0,Ot.default)((0,Ot.default)(this.data.date).format("YYYY-MM-DD")).diff((0,Ot.default)().format("YYYY-MM-DD"),"day"),n.dayStr=n.dayStr<0?0:n.dayStr,n.dayStr=n.dayStr>9999?9999:n.dayStr),this.countdownData=n}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-countdown"]],inputs:{data:"data"},features:[J],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(t,e){t&1&&(O(0,"div",0)(1,"div",1),C(2),$(),O(3,"div",2)(4,"div",3),C(5),$(),O(6,"div",4),C(7),$()()()),t&2&&(b("zoom",e.component.zoom),c(),b("background",e.data.topColor),c(),W(" ",e.data.title," "),c(),b("background-image",e.data.url&&"url("+e.data.url+")")("background-color",e.data.bgColor),c(),b("color",e.data.dayColor),c(),W(" ",e.countdownData.dayStr," "),c(),b("color",e.data.dateColor),c(),W(" - ",e.countdownData.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var hn=["root"],en=class i{data;root;parseDescriptionTimer;component=N();html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=Ut(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{Jt(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-html"]],viewQuery:function(t,e){if(t&1&&et(hn,5),t&2){let s;Z(s=q())&&(e.root=s.first)}},inputs:{data:"data"},features:[J],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(t,e){t&1&&(wt(0,"div",1,0),Vt(2,"safeHtml")),t&2&&(b("zoom",e.component.zoom)("width",e.data.width+"px")("background",e.data.bgColor),Ee("innerHTML",Bt(2,7,e.html),Ft))},dependencies:[Zt],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var st=fe(ce(),1);function fn(i,n){if(i&1&&(x(0,"span",10),C(1),v()),i&2){let t=M(2);c(),D(t.$t("_rest"))}}function un(i,n){if(i&1&&(ke(0),C(1),Te()),i&2){let t=M(2);c(),W("- ",t.items[0].afterDay)}}function gn(i,n){if(i&1&&(x(0,"span",10),C(1),v()),i&2){let t=M(3);c(),D(t.$t("_rest"))}}function yn(i,n){if(i&1&&(x(0,"div",14),C(1),v()),i&2){let t=M().$implicit,e=M(2);c(),se(" ",t.diffDay,"",e.$t("_day")," ")}}function vn(i,n){if(i&1&&(x(0,"div",11)(1,"div",12),C(2),I(3,gn,2,1,"span",6),v(),I(4,yn,2,2,"div",13),v()),i&2){let t=n.$implicit;c(2),se(" ",t.title," ",t.dateStr),c(),_("ngIf",t.day>0),c(),_("ngIf",t.diffDay>0)}}function Cn(i,n){if(i&1&&(x(0,"div",1)(1,"div",2)(2,"div",3),C(3),v(),x(4,"div",4),C(5),v(),x(6,"div",5),I(7,fn,2,1,"span",6),x(8,"span"),C(9),I(10,un,2,1,"ng-container",7),v()()(),x(11,"div",8),I(12,vn,5,4,"div",9),v()()),i&2){let t=M();b("zoom",t.component.zoom),c(),F("today",t.items[0].isToday||t.items[0].isRest),c(2),W(" ",t.items[0].isToday||t.items[0].isRest?t.$t("_dayIs"):t.$t("_distance")+t.items[0].title," "),c(2),D(t.items[0].diffStr),c(2),_("ngIf",t.items[0].day>0),c(2),W("",t.items[0].dateStr," "),c(),_("ngIf",t.items[0].afterDay),c(2),_("ngForOf",t.items)}}var nn=class i{data;items=[];component=N();$t=P;constructor(){}ngOnChanges(){this.init()}init(){let n=[],t=(0,st.default)((0,st.default)().format("YYYY-MM-DD"));this.data.items&&(n=[...this.data.items].filter(e=>{e.date=(0,st.default)(e.date).format("YYYY-MM-DD");let s=(0,st.default)(e.date);return e.day>0&&(s=s.add(e.day-1,"day")),!s.isBefore(t)}).slice(0,4).map(e=>(e.dateStr=(0,st.default)(e.date).format("MM.DD"),e.diffDay=(0,st.default)((0,st.default)(e.date).format("YYYY-MM-DD")).diff(t,"day"),e.diffDay=e.diffDay<0?0:e.diffDay,e.diffDay=e.diffDay>999?999:e.diffDay,e.diffStr=e.diffDay,e.day>0&&(e.afterDay=(0,st.default)(e.date).add(e.day-1,"day").format("MM.DD"),e.afterDay===e.dateStr&&(e.afterDay=null)),e.isToday=e.dateStr===(0,st.default)().format("MM.DD"),e.diffDay<=0&&(e.isToday?e.diffStr=e.title:(e.isRest=!0,e.diffStr="\u4F11\u606F\u65E5")),e))),this.items=n}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-holiday"]],inputs:{data:"data"},features:[J],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(t,e){t&1&&I(0,Cn,13,10,"div",0),t&2&&_("ngIf",e.items.length)},dependencies:[G,Dt,ot],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var on={1:P("_weibo"),2:"V2EX",3:P("_douyin"),4:P("_bilibili"),5:P("_juejin"),6:P("_baidu"),7:"GitHub",8:P("_52"),9:P("_hongshu"),10:P("_toutiao"),11:P("_douban"),12:"Hacker News",13:P("_zhihu"),14:P("_zhihuDaily")};var qt=class i{constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","25 25 50 50",1,"cc1"],["cx","50","cy","50","r","20","fill","none",1,"cc2"]],template:function(t,e){t&1&&(Ce(),O(0,"svg",0),wt(1,"circle",1),$())},styles:[".cc1[_ngcontent-%COMP%]{z-index:2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:15px;height:15px;animation:my-rotatex1 2s linear infinite}.cc2[_ngcontent-%COMP%]{stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:5;stroke:#6d8ba7;stroke-linecap:round;animation:loading-dashx2 1.5s ease-in-out infinite}"],changeDetection:0})};var _n=["parent"],xn=["content"],wn=["item"],Sn=(i,n)=>({zoom:i,background:n});function Mn(i,n){if(i&1){let t=at();x(0,"div",10,2),lt("mouseenter",function(){let s=K(t).index,y=M();return tt(y.onMouseEnter(s))}),C(2),v()}if(i&2){let t=n.$implicit,e=n.index,s=M();F("active",e===s.activeIndex),c(2),W(" ",s.newsTypeMap[t]," ")}}function Pn(i,n){i&1&&U(0,"app-loading")}function Dn(i,n){if(i&1&&(x(0,"div",11),C(1),v()),i&2){let t=M();c(),W(" ",t.$t("_noNews")," ")}}function zn(i,n){if(i&1&&(x(0,"span",16),C(1),v()),i&2){let t=M().$implicit;c(),D(t.hot)}}function In(i,n){if(i&1){let t=at();x(0,"div",12),lt("click",function(s){let y=K(t).$implicit,T=M();return tt(T.jumpService.goUrl(s,y.url))}),x(1,"span",13),C(2),v(),x(3,"span",14),C(4),v(),I(5,zn,2,1,"span",15),v()}if(i&2){let t=n.$implicit,e=n.index;c(2),D(e+1),c(2),D(t.text),c(),_("ngIf",t.hot)}}var sn=class i{constructor(n){this.jumpService=n;let t=localStorage.getItem(yt.NEWS);if(t)try{this.newsListMap=JSON.parse(t)}catch{}}parentElement;contentRef;items;data;$t=P;newsTypeMap=on;component=N();activeIndex=0;newsListMap={};loading=!1;get newsList(){let n=this.data.types;return this.newsListMap[n[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(n){this.activeIndex=n,this.contentRef.nativeElement.scrollTop=0}scrollIntoViewTabs(){je(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let n=this.data.types;if(!n||n.length<=0){localStorage.removeItem(yt.NEWS),localStorage.removeItem(yt.NEWS_DATE);return}let t=Date.now(),e=Number(localStorage.getItem(yt.NEWS_DATE));e&&t-e<36e5||(this.newsList.length<=0&&(this.loading=!0),Ve(Rt({},this.data)).then(s=>{this.newsListMap=Rt(Rt({},this.newsListMap),s.data),localStorage.setItem(yt.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(yt.NEWS_DATE,JSON.stringify(Date.now()))}).finally(()=>{this.loading=!1}))}trackByItem(n,t){return t.text}static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=S({type:i,selectors:[["app-news"]],viewQuery:function(t,e){if(t&1&&(et(_n,5),et(xn,5),et(wn,5)),t&2){let s;Z(s=q())&&(e.parentElement=s.first),Z(s=q())&&(e.contentRef=s.first),Z(s=q())&&(e.items=s)}},inputs:{data:"data"},features:[J],decls:9,vars:9,consts:[["parent",""],["content",""],["item",""],[1,"news","citems","family",3,"ngStyle"],[1,"tabs","hidden-scrollbar",3,"mouseleave","click"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],[4,"ngIf"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(t,e){if(t&1){let s=at();x(0,"div",3)(1,"div",4,0),lt("mouseleave",function(){return K(s),tt(e.scrollIntoViewTabs())})("click",function(){return K(s),tt(e.scrollIntoViewTabs())}),I(3,Mn,3,3,"div",5),v(),x(4,"div",6,1),I(6,Pn,1,0,"app-loading",7)(7,Dn,2,1,"div",8)(8,In,6,3,"div",9),v()()}t&2&&(_("ngStyle",Mt(6,Sn,e.component.zoom,e.data.bgColor)),c(3),_("ngForOf",e.data.types),c(3),_("ngIf",e.loading),c(),_("ngIf",!e.loading&&e.newsList.length===0),c(),_("ngForOf",e.newsList)("ngForTrackBy",e.trackByItem))},dependencies:[G,Dt,ot,ht,qt],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};var kn=["slickList"],Tn=["slickTrack"],En=["*"],On=i=>({$implicit:i});function $n(i,n){}function Nn(i,n){if(i&1){let t=at();x(0,"li",9),lt("click",function(){let s=K(t).$index,y=M(2);return tt(y.goTo(s))}),I(1,$n,0,0,"ng-template",10),v()}if(i&2){let t=n.$index,e=M(2),s=St(8);F("slick-active",t===e.activeIndex),c(),_("ngTemplateOutlet",e.nzDotRender||s)("ngTemplateOutletContext",jt(4,On,t))}}function An(i,n){if(i&1&&(x(0,"ul",7),Ie(1,Nn,2,6,"li",8,ze),v()),i&2){let t=M();F("slick-dots-top",t.nzDotPosition==="top")("slick-dots-bottom",t.nzDotPosition==="bottom")("slick-dots-left",t.nzDotPosition==="left")("slick-dots-right",t.nzDotPosition==="right"),c(),be(t.carouselContents)}}function Hn(i,n){if(i&1&&(x(0,"button"),C(1),v()),i&2){let t=n.$implicit;c(),D(t+1)}}var me=(()=>{class i{renderer=R(ie);el=R(ne).nativeElement;set isActive(t){this._active=t,this.isActive?this.renderer.addClass(this.el,"slick-active"):this.renderer.removeClass(this.el,"slick-active")}get isActive(){return this._active}_active=!1;static \u0275fac=function(e){return new(e||i)};static \u0275dir=Se({type:i,selectors:[["","nz-carousel-content",""]],hostAttrs:[1,"slick-slide"],exportAs:["nzCarouselContent"]})}return i})(),Gt=class{cdr;renderer;platform;options;carouselComponent;contents;slickListEl;slickTrackEl;length;unitWidth;unitHeight;get maxIndex(){return this.length-1}get firstEl(){return this.contents[0].el}get lastEl(){return this.contents[this.maxIndex].el}constructor(n,t,e,s,y){this.cdr=t,this.renderer=e,this.platform=s,this.options=y,this.carouselComponent=n}withCarouselContents(n){let t=this.carouselComponent;if(this.slickListEl=t.slickListEl,this.slickTrackEl=t.slickTrackEl,this.contents=n?.toArray()||[],this.length=this.contents.length,this.platform.isBrowser){let e=t.el.getBoundingClientRect();this.unitWidth=e.width,this.unitHeight=e.height}else n?.forEach((e,s)=>{s===0?this.renderer.setStyle(e.el,"width","100%"):this.renderer.setStyle(e.el,"display","none")})}dragging(n){}dispose(){}getFromToInBoundary(n,t){let e=this.maxIndex+1;return{from:(n+e)%e,to:(t+e)%e}}},de=class extends Gt{withCarouselContents(n){super.withCarouselContents(n),this.contents&&(this.slickTrackEl.style.width=`${this.length*this.unitWidth}px`,this.contents.forEach((t,e)=>{this.renderer.setStyle(t.el,"opacity",this.carouselComponent.activeIndex===e?"1":"0"),this.renderer.setStyle(t.el,"position","relative"),this.renderer.setStyle(t.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(t.el,"left",`${-this.unitWidth*e}px`),this.renderer.setStyle(t.el,"transition",["opacity 500ms ease 0s","visibility 500ms ease 0s"])}))}switch(n,t){let{to:e}=this.getFromToInBoundary(n,t),s=new ee;return this.contents.forEach((y,T)=>{this.renderer.setStyle(y.el,"opacity",e===T?"1":"0")}),setTimeout(()=>{s.next(),s.complete()},this.carouselComponent.nzTransitionSpeed),s}dispose(){this.contents.forEach(n=>{this.renderer.setStyle(n.el,"transition",null),this.renderer.setStyle(n.el,"opacity",null),this.renderer.setStyle(n.el,"width",null),this.renderer.setStyle(n.el,"left",null)}),super.dispose()}},pe=class extends Gt{isDragging=!1;isTransitioning=!1;get vertical(){return this.carouselComponent.vertical}constructor(n,t,e,s,y){super(n,t,e,s,y)}dispose(){super.dispose(),this.renderer.setStyle(this.slickTrackEl,"transform",null)}withCarouselContents(n){super.withCarouselContents(n);let e=this.carouselComponent.activeIndex;this.platform.isBrowser&&this.contents.length&&(this.renderer.setStyle(this.slickListEl,"height",`${this.unitHeight}px`),this.vertical?(this.renderer.setStyle(this.slickTrackEl,"width",`${this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"height",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`)):(this.renderer.setStyle(this.slickTrackEl,"height",`${this.unitHeight}px`),this.renderer.setStyle(this.slickTrackEl,"width",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`)),this.contents.forEach(s=>{this.renderer.setStyle(s.el,"position","relative"),this.renderer.setStyle(s.el,"width",`${this.unitWidth}px`),this.renderer.setStyle(s.el,"height",`${this.unitHeight}px`)}))}switch(n,t){let{to:e}=this.getFromToInBoundary(n,t),s=new ee;return this.renderer.setStyle(this.slickTrackEl,"transition",`transform ${this.carouselComponent.nzTransitionSpeed}ms ease`),this.vertical?this.verticalTransform(n,t):this.horizontalTransform(n,t),this.isTransitioning=!0,this.isDragging=!1,setTimeout(()=>{this.renderer.setStyle(this.slickTrackEl,"transition",null),this.contents.forEach(y=>{this.renderer.setStyle(y.el,this.vertical?"top":"left",null)}),this.vertical?this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-e*this.unitHeight}px, 0)`):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-e*this.unitWidth}px, 0, 0)`),this.isTransitioning=!1,s.next(),s.complete()},this.carouselComponent.nzTransitionSpeed),s.asObservable()}dragging(n){if(this.isTransitioning)return;let t=this.carouselComponent.activeIndex;this.carouselComponent.vertical?(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareVerticalContext(!0):t===0&&this.prepareVerticalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight+n.x}px, 0)`)):(!this.isDragging&&this.length>2&&(t===this.maxIndex?this.prepareHorizontalContext(!0):t===0&&this.prepareHorizontalContext(!1)),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth+n.x}px, 0, 0)`)),this.isDragging=!0}verticalTransform(n,t){let{from:e,to:s}=this.getFromToInBoundary(n,t);this.length>2&&t!==s?(this.prepareVerticalContext(s<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-t*this.unitHeight}px, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(0, ${-s*this.unitHeight}px, 0`)}horizontalTransform(n,t){let{from:e,to:s}=this.getFromToInBoundary(n,t);this.length>2&&t!==s?(this.prepareHorizontalContext(s<e),this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-t*this.unitWidth}px, 0, 0)`)):this.renderer.setStyle(this.slickTrackEl,"transform",`translate3d(${-s*this.unitWidth}px, 0, 0`)}prepareVerticalContext(n){n?(this.renderer.setStyle(this.firstEl,"top",`${this.length*this.unitHeight}px`),this.renderer.setStyle(this.lastEl,"top",null)):(this.renderer.setStyle(this.firstEl,"top",null),this.renderer.setStyle(this.lastEl,"top",`${-this.unitHeight*this.length}px`))}prepareHorizontalContext(n){n?(this.renderer.setStyle(this.firstEl,"left",`${this.length*this.unitWidth}px`),this.renderer.setStyle(this.lastEl,"left",null)):(this.renderer.setStyle(this.firstEl,"left",null),this.renderer.setStyle(this.lastEl,"left",`${-this.unitWidth*this.length}px`))}},Ln=new ve("nz-carousel-custom-strategies"),Rn="carousel",rn=(()=>{var k;let i=[],n,t=[],e=[],s,y=[],T=[],L,it=[],A=[],ct,Y=[],B=[],It,$t=[],Nt=[],At,vt=[],Ht=[],dt;return k=class{_nzModuleName=(V(this,i),Rn);nzConfigService=R(Re);ngZone=R(Me);renderer=R(ie);cdr=R(Ne);platform=R(Le);resizeService=R(Je);nzDragService=R(Ue);nzResizeObserver=R(Qe);destroyRef=R(_e);carouselContents;slickList;slickTrack;nzDotRender;nzEffect=V(this,t,"scrollx");nzEnableSwipe=(V(this,e),V(this,y,!0));nzDots=(V(this,T),V(this,it,!0));nzAutoPlay=(V(this,A),V(this,Y,!1));nzAutoPlaySpeed=(V(this,B),V(this,$t,3e3));nzTransitionSpeed=(V(this,Nt),500);nzLoop=V(this,vt,!0);nzStrategyOptions=(V(this,Ht),void 0);set nzDotPosition(h){this._dotPosition=h,this.vertical=h==="left"||h==="right"}get nzDotPosition(){return this._dotPosition}_dotPosition="bottom";nzBeforeChange=new oe;nzAfterChange=new oe;activeIndex=0;el=R(ne).nativeElement;slickListEl;slickTrackEl;strategy;vertical=!1;transitionInProgress;dir="ltr";gestureRect=null;pointerDelta=null;isTransiting=!1;isDragging=!1;directionality=R(Be);customStrategies=R(Ln,{optional:!0});constructor(){this.nzDotPosition="bottom",this.destroyRef.onDestroy(()=>{this.clearScheduledTransition(),this.strategy?.dispose()})}ngOnInit(){this.slickListEl=this.slickList.nativeElement,this.slickTrackEl=this.slickTrack.nativeElement,this.dir=this.directionality.value,this.directionality.change.pipe(Tt(this.destroyRef)).subscribe(h=>{this.dir=h,this.markContentActive(this.activeIndex),this.cdr.detectChanges()}),He(this.slickListEl,"keydown").pipe(Tt(this.destroyRef)).subscribe(h=>{let{keyCode:o}=h;o!==37&&o!==39||(h.preventDefault(),this.ngZone.run(()=>{o===37?this.pre():this.next(),this.cdr.markForCheck()}))}),this.nzResizeObserver.observe(this.el).pipe(ue(100),ge(),Tt(this.destroyRef)).subscribe(()=>this.layout())}ngAfterContentInit(){this.markContentActive(0)}ngAfterViewInit(){this.carouselContents.changes.subscribe(()=>{this.markContentActive(0),this.layout()}),this.resizeService.connect().pipe(Tt(this.destroyRef)).subscribe(()=>this.layout()),this.switchStrategy(),this.markContentActive(0),this.layout(),Promise.resolve().then(()=>this.layout())}ngOnChanges(h){let{nzEffect:o,nzDotPosition:d}=h;o&&!o.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.layout()),d&&!d.isFirstChange()&&(this.switchStrategy(),this.markContentActive(0),this.layout()),!this.nzAutoPlay||!this.nzAutoPlaySpeed?this.clearScheduledTransition():this.scheduleNextTransition()}next(){this.goTo(this.activeIndex+1)}pre(){this.goTo(this.activeIndex-1)}goTo(h){if(this.carouselContents&&this.carouselContents.length&&!this.isTransiting&&(this.nzLoop||h>=0&&h<this.carouselContents.length)){let o=this.carouselContents.length,d=this.activeIndex,f=(h+o)%o;this.isTransiting=!0,this.nzBeforeChange.emit({from:d,to:f}),this.strategy.switch(this.activeIndex,h).subscribe(()=>{this.scheduleNextTransition(),this.nzAfterChange.emit(f),this.isTransiting=!1}),this.markContentActive(f),this.cdr.markForCheck()}}switchStrategy(){this.strategy&&this.strategy.dispose();let h=this.customStrategies?this.customStrategies.find(o=>o.name===this.nzEffect):null;if(h){this.strategy=new h.strategy(this,this.cdr,this.renderer,this.platform);return}this.strategy=this.nzEffect==="scrollx"?new pe(this,this.cdr,this.renderer,this.platform):new de(this,this.cdr,this.renderer,this.platform)}scheduleNextTransition(){this.clearScheduledTransition(),this.nzAutoPlay&&this.nzAutoPlaySpeed>0&&this.platform.isBrowser&&(this.transitionInProgress=setTimeout(()=>{this.goTo(this.activeIndex+1)},this.nzAutoPlaySpeed))}clearScheduledTransition(){this.transitionInProgress&&(clearTimeout(this.transitionInProgress),this.transitionInProgress=void 0)}markContentActive(h){this.activeIndex=h,this.carouselContents?.forEach((o,d)=>o.isActive=h===d),this.cdr.markForCheck()}pointerDown=h=>{!this.isDragging&&!this.isTransiting&&this.nzEnableSwipe&&(this.clearScheduledTransition(),this.gestureRect=this.slickListEl.getBoundingClientRect(),this.nzDragService.requestDraggingSequence(h).subscribe({next:o=>{this.pointerDelta=o,this.isDragging=!0,this.strategy?.dragging(this.pointerDelta)},complete:()=>{if(this.nzEnableSwipe&&this.isDragging){let o=this.pointerDelta?this.pointerDelta.x:0;Math.abs(o)>this.gestureRect.width/3&&(this.nzLoop||o<=0&&this.activeIndex+1<this.carouselContents.length||o>0&&this.activeIndex>0)?this.goTo(o>0?this.activeIndex-1:this.activeIndex+1):this.goTo(this.activeIndex),this.gestureRect=null,this.pointerDelta=null}this.isDragging=!1}}))};layout(){this.strategy?.withCarouselContents(this.carouselContents)}},(()=>{let h=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[ft()],s=[ft()],L=[ft()],ct=[ft()],It=[ft()],At=[ft()],dt=[ft()],mt(k,null,dt,{kind:"setter",name:"nzDotPosition",static:!1,private:!1,access:{has:o=>"nzDotPosition"in o,set:(o,d)=>{o.nzDotPosition=d}},metadata:h},null,i),mt(null,null,n,{kind:"field",name:"nzEffect",static:!1,private:!1,access:{has:o=>"nzEffect"in o,get:o=>o.nzEffect,set:(o,d)=>{o.nzEffect=d}},metadata:h},t,e),mt(null,null,s,{kind:"field",name:"nzEnableSwipe",static:!1,private:!1,access:{has:o=>"nzEnableSwipe"in o,get:o=>o.nzEnableSwipe,set:(o,d)=>{o.nzEnableSwipe=d}},metadata:h},y,T),mt(null,null,L,{kind:"field",name:"nzDots",static:!1,private:!1,access:{has:o=>"nzDots"in o,get:o=>o.nzDots,set:(o,d)=>{o.nzDots=d}},metadata:h},it,A),mt(null,null,ct,{kind:"field",name:"nzAutoPlay",static:!1,private:!1,access:{has:o=>"nzAutoPlay"in o,get:o=>o.nzAutoPlay,set:(o,d)=>{o.nzAutoPlay=d}},metadata:h},Y,B),mt(null,null,It,{kind:"field",name:"nzAutoPlaySpeed",static:!1,private:!1,access:{has:o=>"nzAutoPlaySpeed"in o,get:o=>o.nzAutoPlaySpeed,set:(o,d)=>{o.nzAutoPlaySpeed=d}},metadata:h},$t,Nt),mt(null,null,At,{kind:"field",name:"nzLoop",static:!1,private:!1,access:{has:o=>"nzLoop"in o,get:o=>o.nzLoop,set:(o,d)=>{o.nzLoop=d}},metadata:h},vt,Ht),h&&Object.defineProperty(k,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h})})(),te(k,"\u0275fac",function(o){return new(o||k)}),te(k,"\u0275cmp",S({type:k,selectors:[["nz-carousel"]],contentQueries:function(o,d,f){if(o&1&&$e(f,me,4),o&2){let rt;Z(rt=q())&&(d.carouselContents=rt)}},viewQuery:function(o,d){if(o&1&&(et(kn,7),et(Tn,7)),o&2){let f;Z(f=q())&&(d.slickList=f.first),Z(f=q())&&(d.slickTrack=f.first)}},hostAttrs:[1,"ant-carousel"],hostVars:4,hostBindings:function(o,d){o&2&&F("ant-carousel-vertical",d.vertical)("ant-carousel-rtl",d.dir==="rtl")},inputs:{nzDotRender:"nzDotRender",nzEffect:"nzEffect",nzEnableSwipe:[2,"nzEnableSwipe","nzEnableSwipe",Qt],nzDots:[2,"nzDots","nzDots",Qt],nzAutoPlay:[2,"nzAutoPlay","nzAutoPlay",Qt],nzAutoPlaySpeed:[2,"nzAutoPlaySpeed","nzAutoPlaySpeed",re],nzTransitionSpeed:[2,"nzTransitionSpeed","nzTransitionSpeed",re],nzLoop:"nzLoop",nzStrategyOptions:"nzStrategyOptions",nzDotPosition:"nzDotPosition"},outputs:{nzBeforeChange:"nzBeforeChange",nzAfterChange:"nzAfterChange"},exportAs:["nzCarousel"],features:[J],ngContentSelectors:En,decls:9,vars:4,consts:[["slickList",""],["slickTrack",""],["renderDotTemplate",""],[1,"slick-initialized","slick-slider",3,"dir"],["tabindex","-1",1,"slick-list",3,"mousedown","touchstart"],[1,"slick-track"],[1,"slick-dots",3,"slick-dots-top","slick-dots-bottom","slick-dots-left","slick-dots-right"],[1,"slick-dots"],[3,"slick-active"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,d){if(o&1){let f=at();Wt(),x(0,"div",3)(1,"div",4,0),lt("mousedown",function(Ct){return K(f),tt(d.pointerDown(Ct))})("touchstart",function(Ct){return K(f),tt(d.pointerDown(Ct))}),x(3,"div",5,1),Yt(5),v()(),Pe(6,An,3,8,"ul",6),v(),I(7,Hn,2,1,"ng-template",null,2,Pt)}o&2&&(F("slick-vertical",d.nzDotPosition==="left"||d.nzDotPosition==="right"),_("dir","ltr"),c(6),De(d.nzDots?6:-1))},dependencies:[Ae],encapsulation:2,changeDetection:0})),k})(),an=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=we({type:i});static \u0275inj=ye({})}return i})();var Yn=["root"],jn=(i,n)=>({height:i,"object-fit":n});function Vn(i,n){if(i&1&&(U(0,"div",3,1),Vt(2,"safeHtml")),i&2){let t=M();_("innerHTML",Bt(2,1,t.html),Ft)}}function Bn(i,n){if(i&1&&U(0,"img",4),i&2){let t=M();_("src",t.data.src,xe)("ngStyle",Mt(2,jn,t.height<=0?"":t.height+"px",t.fit))}}var Xt=class i{data={};height;fit="cover";root;isCode=!1;html="";constructor(){}ngOnInit(){this.isCode=this.data.url[0]==="!",this.isCode&&(this.html=Ut(this.data.url))}ngAfterViewInit(){this.parseDescription()}parseDescription(){this.isCode&&Jt(this.root?.nativeElement,this.data.url)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-swiper-item"]],viewQuery:function(t,e){if(t&1&&et(Yn,5),t&2){let s;Z(s=q())&&(e.root=s.first)}},inputs:{data:"data",height:"height",fit:"fit"},decls:3,vars:2,consts:[["other",""],["root",""],["class","w-full",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"w-full",3,"innerHTML"],["draggable","false",1,"bgimg",3,"src","ngStyle"]],template:function(t,e){if(t&1&&I(0,Vn,3,3,"div",2)(1,Bn,1,5,"ng-template",null,0,Pt),t&2){let s=St(2);_("ngIf",e.isCode)("ngIfElse",s)}},dependencies:[G,ot,ht,Zt],styles:[".bgimg[_ngcontent-%COMP%]{width:100%}"]})};var Qn=["*"],Jn=i=>({height:i});function Un(i,n){if(i&1){let t=at();x(0,"div",4),lt("click",function(s){let y=K(t).$implicit,T=M(2);return tt(T.jumpService.goUrl(s,y.url))}),U(1,"app-swiper-item",5),v()}if(i&2){let t=n.$implicit,e=M(2);F("cursor-pointer",t.url),c(),_("data",t)("height",e.height)("fit",e.fit)}}function Zn(i,n){if(i&1&&(x(0,"div",1)(1,"nz-carousel",2),I(2,Un,2,5,"div",3),v(),Yt(3),v()),i&2){let t=M();_("ngStyle",jt(5,Jn,t.height<=0?"":t.height+"px")),c(),_("nzAutoPlay",t.autoPlay)("nzAutoPlaySpeed",5e3)("nzDots",t.images.length>1),c(),_("ngForOf",t.images)}}var Kt=class i{constructor(n){this.jumpService=n}images=[];fit="cover";autoplay=!0;height=300;autoPlay=!1;ngAfterViewInit(){setTimeout(()=>{this.autoplay&&(this.autoPlay=!0,document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)))},0)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange(){document.visibilityState==="hidden"?this.autoPlay=!1:this.autoPlay=!0}static \u0275fac=function(t){return new(t||i)(xt(zt))};static \u0275cmp=S({type:i,selectors:[["app-swiper"]],inputs:{images:"images",fit:"fit",autoplay:"autoplay",height:"height"},ngContentSelectors:Qn,decls:1,vars:1,consts:[["class","swiper",3,"ngStyle",4,"ngIf"],[1,"swiper",3,"ngStyle"],[3,"nzAutoPlay","nzAutoPlaySpeed","nzDots"],["nz-carousel-content","",3,"cursor-pointer","click",4,"ngFor","ngForOf"],["nz-carousel-content","",3,"click"],[3,"data","height","fit"]],template:function(t,e){t&1&&(Wt(),I(0,Zn,4,7,"div",0)),t&2&&_("ngIf",e.images&&e.images.length>0)},dependencies:[an,rn,me,G,Dt,ot,ht,Xt],styles:[".swiper[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;overflow:hidden}.swiper[_ngcontent-%COMP%]     .slick-slide, .swiper[_ngcontent-%COMP%]     .slick-track, .swiper[_ngcontent-%COMP%]     .slick-list{height:auto!important}"]})};var qn=(i,n)=>({zoom:i,width:n}),ln=class i{data;component=N();constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-carousel"]],inputs:{data:"data"},decls:2,vars:7,consts:[[1,"ccarousel","family","citems",3,"ngStyle"],[3,"images","height","fit"]],template:function(t,e){t&1&&(x(0,"div",0),U(1,"app-swiper",1),v()),t&2&&(_("ngStyle",Mt(4,qn,e.component.zoom,e.data.width+"px")),c(),_("images",e.data.imgs)("height",155)("fit",e.data.fit))},dependencies:[Kt,G,ht],styles:[".ccarousel[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden}.ccarousel[_ngcontent-%COMP%]     .swiper{height:var(--componentHeight)!important}"]})};export{Ze as a,qe as b,Ge as c,Xe as d,ce as e,tn as f,en as g,nn as h,on as i,sn as j,Kt as k,ln as l};
